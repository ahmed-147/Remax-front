<!--Section: Block Content-->
<section class="container-fluid">
  <section class="container-fluid">
    <div class="row p-5">
      <h1 class="font-weight-bold heading">My Cart</h1>
    </div>
    <!--Grid row-->
    <div class="row mx-1">

      <!--Grid column-->
      <div class="col-lg-8">

        <!-- Card -->
        <div class="card wish-list mb-3 rounded-sm">
          <div class=" card-header bg-white ">
            <div class="row ">
              <div class="col-7">
                <h4 class="text-muted ">Product</h4>
              </div>
              <div class="col-3">
                <h4 class="text-muted ">Quantity</h4>
              </div>
              <div class="col-2">
                <h4 class="text-muted ">Total</h4>
              </div>

            </div>

          </div>
          <div class="card-body">
            <div class="row d-flex align-items-center border-bottom p-2" *ngFor="let item of cartItems">
              <div class="col-7">
                <div class="row">

                  <div class="col-4">
                    <div class="view zoom overlay z-depth-1 rounded mb-3 mb-md-0">
                      <a [routerLink]="['/products',item.item.id ]">
                          <img class="img-fluid w-100" src="../../../assets/noImgItem.png" alt="Sample" *ngIf="!getItemImg(item.item.id).length" >
                          <img class="img-fluid w-100" src="{{imgDirectory}}{{getItemImg(item.item.id)[0].img}}" alt="Sample" *ngIf="getItemImg(item.item.id).length" >
                      </a>
                    </div>
                  </div>

                  <div class="col-8">
                    <div class="card-body">
                      <h5 class="card-title">{{item.item.name}}</h5>
                      <p class="card-text text-truncate">{{item.item.details}}.</p>
                      <p class="card-text price price--highlight">{{getCurrentPrice(item.item) | currency : 'EGP'}}</p>
                      <p class="price price--compare" *ngIf="item.discount"><del>{{item.item.price}}</del></p>
                    </div>

                  </div>
                </div>

              </div>
              <div class="col-3">
                <!--
                          <div class="row">
                              <button style="display: inline;width: 20%;"  onclick="this.parentNode.querySelector('input[type=number]').stepDown()"
                            ><i class="fa fa-minus"></i></button>
                              <input style="display: inline;width: 60%;"  min="0" name="quantity" value="1" type="number">                         
                              <button style="display: inline;width: 20%;" onclick="this.parentNode.querySelector('input[type=number]').stepUp()"
                            ><i class="fa fa-plus"></i></button>
                        </div>
                       -->
                <div class="quantity-selector">
                  <button type="button" class="quantity-selector__button quantityButton" data-action="decrease-quantity"
                    data-quantity="1" data-line-id="32463935373372:2c6eca2e264be199b03d8637acda4cba"
                    aria-label="Decrease quantity by 1" title="Decrease quantity by 1"
                    (click)="subQuantity(item)" >
                    <svg class="icon icon--minus" viewBox="0 0 10 2" role="presentation">
                      <path d="M10 0v2H0V0z" fill="currentColor"></path>
                    </svg>
                  </button>
                  <input aria-label="Quantity" class="quantity-selector__value"  style="display: inline;width: 60%;"
                    min="1" max="{{item.item.quantity -1}}" name="quantity" value="{{item.quantity}}" type="number" (change)="calcQuantity(item.item, $event.target.value)">
                  <button type="button"  class="quantity-selector__button quantityButton" (click)="addQuantity(item)"
                                aria-label="Increase quantity by 1" title="Increase quantity by 1">
                    <svg class="icon icon--plus" viewBox="0 0 10 10" role="presentation">
                      <path d="M6 4h4v2H6v4H4V6H0V4h4V0h2v4z" fill="currentColor" fill-rule="evenodd"></path>
                    </svg>
                  </button>
                </div>
                <a (click)="deleteItem(item.item)" class="ml-3 text-muted text-decoration-none btn" style="margin-left: 50px;" >Remove</a>
              </div>
              <div class="col-2">
                <h4>
                  <p class="mb-0 text-muted"><span><strong>{{ getTotalPrice(item)| currency : 'EGP'}}</strong></span></p>
                </h4>
              </div>
            </div>
            <hr>
          </div>
        </div>
      </div>

      <!--Grid column-->
      <div class="col-lg-4">
        <div style="position: -webkit-sticky;
        position: -moz-sticky;
        position: -ms-sticky;
        position: -o-sticky;
        position: sticky;
        top: 50px;">
          <!-- Card -->
          <div class="card mb-3">
            <div class="card-body">

              <h5 class="mb-3">The total amount of</h5>

              <ul class="list-group list-group-flush">
                <li class="list-group-item d-flex justify-content-between align-items-center border-0 px-0 pb-0">
                  Total Price
                  <span>{{totalPrice()| currency : 'EGP'}}</span>
                </li>
                <li class="list-group-item d-flex justify-content-between align-items-center px-0">
                  Quantity
                  <span>{{totalQuantity()}}</span>
                </li>
                <li class="list-group-item d-flex justify-content-between align-items-center border-0 px-0 mb-3">
                  <div>
                    <strong>The total amount of</strong>
                    <strong>
                      <p class="mb-0">(including VAT)</p>
                    </strong>
                  </div>
                  <span><strong>$53.98</strong></span>
                </li>
              </ul> 
              <button type="button" (click)="resetCart()"  class="btn btn-warning btn-block waves-effect waves-light  talibBtn">Clear Cart</button>

              <button type="button" class="btn btn-primary btn-block waves-effect waves-light  talibBtn">go to
                checkout</button>
              

            </div>
          </div>
          <!-- Card -->

          <!-- Card -->
          <div class="card mb-3">
            <div class="card-body">

              <a class="dark-grey-text d-flex justify-content-between" data-toggle="collapse" href="#collapseExample1"
                aria-expanded="false" aria-controls="collapseExample1">
                Add a discount code (optional)
                <span><i class="fas fa-chevron-down pt-1"></i></span>
              </a>

              <div class="collapse" id="collapseExample1">
                <div class="mt-3">
                  <div class="md-form md-outline mb-0">
                    <input type="text" id="discount-code1" class="form-control font-weight-light"
                      placeholder="Enter discount code">
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- Card -->
        </div>

      </div>
      <!--Grid column-->

    </div>
    <!--Grid row-->

  </section>
  <section class=" row mx-3">

    <div class="col-lg-8">

      <!-- Card -->
      <div class="card wish-list mb-3 rounded-sm">
        <div class=" card-header " data-toggle="collapse" data-target="#Career_Objective">
          <div class="row">
            <div class="col-10">
              <h4>Product</h4>
            </div>

            <div class="col-2">
              <div class="fa fa-arrow-down">
              </div>
            </div>

          </div>

        </div>
        <div class="card-body">
          <div class="col-sm-12 collapse mx-1" id="Career_Objective">
            <form class="form-inline">
              <div class="form-group mb-2">
                <label for="staticEmail2" class="sr-only">Email</label>
                <div class="dropdown show">
                  <a class="btn  dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown"
                    aria-haspopup="true" aria-expanded="false">
                    Dropdown link
                  </a>

                  <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                    <a class="dropdown-item" href="#">Action</a>
                    <a class="dropdown-item" href="#">Another action</a>
                    <a class="dropdown-item" href="#">Something else here</a>
                  </div>
                </div>
              </div>
              <div class="form-group mx-sm-3 mb-2">
                <label for="inputPassword2" class="sr-only">Password</label>
                <input type="password" class="form-control" id="inputPassword2" placeholder="Password">
              </div>
              <button type="submit" class="btn btn-primary mb-2">Confirm identity</button>
            </form>
          </div>
        </div>

      </div>
    </div>
  </section>
  <section class="row mx-3">
    <div class="row p-3">
      <h3 class="font-weight-bold">Recently viewed</h3>
    </div>
  </section>
  <app-products-row></app-products-row>
  <div class="my-5"></div>

</section>

<!--Section: Block Content-->